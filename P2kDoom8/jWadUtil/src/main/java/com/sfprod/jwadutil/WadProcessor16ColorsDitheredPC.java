package com.sfprod.jwadutil;

import java.nio.ByteOrder;
import java.util.List;

class WadProcessor16ColorsDitheredPC extends WadProcessor16ColorsDithered {

	private static final List<Color> CGA_COLORS = List.of( //
			new Color(0x00, 0x00, 0x00), // black
			new Color(0x00, 0x00, 0xAA), // blue
			new Color(0x00, 0xAA, 0x00), // green
			new Color(0x00, 0xAA, 0xAA), // cyan
			new Color(0xAA, 0x00, 0x00), // red
			new Color(0xAA, 0x00, 0xAA), // magenta
			new Color(0xAA, 0x55, 0x00), // brown
			new Color(0xAA, 0xAA, 0xAA), // light gray
			new Color(0x55, 0x55, 0x55), // dark gray
			new Color(0x55, 0x55, 0xFF), // light blue
			new Color(0x55, 0xFF, 0x55), // light green
			new Color(0x55, 0xFF, 0xFF), // light cyan
			new Color(0xFF, 0x55, 0x55), // light red
			new Color(0xFF, 0x55, 0xFF), // light magenta
			new Color(0xFF, 0xFF, 0x55), // yellow
			new Color(0xFF, 0xFF, 0xFF) // white
	);

	private static final List<Integer> VGA256_TO_DITHERED_LUT = List.of( //
			0x00, 0x06, 0x00, // black
			0x88, // grey
			0xff, // white
			0x08, 0x08, 0x00, 0x00, // black
			0x00, 0x00, 0x00, 0x00, // dark green
			0x68, 0x68, 0x68, // brown

			0xcf, 0xcf, 0x4f, 0x7c, 0x7c, 0x7c, 0x7c, 0x7c, 0x8c, 0x8c, 0x8c, 0x8c, 0x8c, 0x8c, 0x0c, 0x0c, //
			0x0c, 0x0c, 0x0c, 0x0c, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04, // reddish

			0xff, 0xef, 0xcf, 0xcc, 0xcf, 0xcf, 0xcf, 0x5e, 0x5e, 0x5e, 0x5e, 0x7c, 0x7c, 0x7c, 0x2c, 0x2c, //
			0x2c, 0x2c, 0x2c, 0x2c, 0x68, 0x68, 0x68, 0x68, 0x68, 0x48, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, // orangeish

			0xff, 0x7f, 0x7f, 0x7f, 0x7f, 0x8f, 0x8f, 0x8f, 0x8f, 0x0f, 0x0f, 0x0f, 0x0f, 0x77, 0x77, 0x77, //
			0x77, 0x78, 0x78, 0x78, 0x78, 0x07, 0x07, 0x07, 0x07, 0x88, 0x88, 0x88, 0x88, 0x08, 0x08, 0x08, // gray

			0xaf, 0xaa, 0xaa, 0x2a, 0x2a, 0x8a, 0x8a, 0x0a, 0x0a, 0x22, 0x22, 0x28, 0x28, 0x02, 0x02, 0x00, // green
			0x1e, 0x1e, 0x3c, 0x67, 0x67, 0x47, 0x47, 0x07, 0x07, 0x07, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, // brown
			0x67, 0x67, 0x67, 0x67, 0x68, 0x68, 0x68, 0x68, // brown
			0x68, 0x68, 0x68, 0x68, 0x06, 0x06, 0x06, 0x06, // brown/green
			0xee, 0xce, 0x6e, 0x2c, 0x2c, 0x66, 0x06, 0x06, // gold

			0xff, 0x7f, 0xcf, 0x7c, 0x7c, 0xcc, 0xcc, 0x4c, //
			0x4c, 0x4c, 0x4c, 0x4c, 0x4c, 0x4c, 0x4c, 0x4c, 0x4c, 0x44, 0x44, 0x44, 0x44, 0x04, 0x04, 0x04, // red

			0xff, 0x9f, 0x9f, 0x79, 0x99, 0x99, 0x19, 0x19, 0x11, 0x11, 0x11, 0x11, 0x11, 0x01, 0x01, 0x01, // blue
			0xff, 0xef, 0xcf, 0xcf, 0xce, 0xce, 0xce, 0x6c, 0x6c, 0x6c, 0x6c, 0x66, 0x66, 0x66, 0x46, 0x46, // orange
			0xff, 0xef, 0xef, 0xef, 0xee, 0xee, 0xee, 0xee, // yellow
			0x46, 0x46, 0x06, 0x06, // dark orange
			0x48, 0x48, 0x06, 0x06, // brown
			0x11, 0x11, 0x11, 0x11, 0x01, 0x01, 0x01, 0x00, // dark blue
			0xce, // orange
			0xee, // yellow
			0xdd, 0x5d, 0x55, 0x55, 0x05, // purple
			0x47 // cream-colored
	);

	WadProcessor16ColorsDitheredPC(String title, ByteOrder byteOrder, WadFile wadFile) {
		super(title, byteOrder, wadFile, CGA_COLORS, 6);
	}

	@Override
	protected List<Integer> createVga256ToDitheredLUT(List<Color> vgaCols, List<Color> availableCols) {
		return VGA256_TO_DITHERED_LUT;
	}

}
